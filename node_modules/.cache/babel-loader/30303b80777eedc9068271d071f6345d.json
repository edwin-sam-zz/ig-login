{"ast":null,"code":"import _regeneratorRuntime from\"/Users/edwin/Desktop/React/challenges/ig-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/edwin/Desktop/React/challenges/ig-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/edwin/Desktop/React/challenges/ig-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState,useContext}from'react';import{Link}from'react-router-dom';import logo from'../images/facebook-logo.png';import phonesLogo from'../images/phones-image.png';import appleLogo from'../images/download-apple.png';import androidLogo from'../images/download-google.png';import{withRouter}from'react-router-dom';import'../style.css';import UserContext from'../userContext';// Sign in page Component\nvar SignInPage=function SignInPage(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isUsernameActive=_useState2[0],setUsernameActive=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPasswordActive=_useState4[0],setPasswordActive=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];//Success state\nvar _useState9=useState(),_useState10=_slicedToArray(_useState9,2),success=_useState10[0],setSuccess=_useState10[1];// Contexts passed among components\nvar _useContext=useContext(UserContext),setUserInfo=_useContext.setUserInfo;var _useContext2=useContext(UserContext),randomPath=_useContext2.randomPath;var handleUsernameChange=function handleUsernameChange(text){setUsername(text);if(text!==''){setUsernameActive(true);}else{setUsernameActive(false);}};var handlePasswordChange=function handlePasswordChange(text){setPassword(text);if(text!==''){setPasswordActive(true);}else{setPasswordActive(false);}};// Facebook link\nvar fbLink='https://www.facebook.com/login.php?skip_api_login=1&api_key=124024574287414&kid_directed_site=0&app_id=124024574287414&signed_next=1&next=https%3A%2F%2Fwww.facebook.com%2Fdialog%2Foauth%3Fclient_id%3D124024574287414%26redirect_uri%3Dhttps%253A%252F%252Fwww.instagram.com%252Faccounts%252Fsignup%252F%26state%3D%257B%2522fbLoginKey%2522%253A%252211w1izj65x04l1p1cmwc7v7eyu11ivxywumq70ozwj5te2ok57g%2522%252C%2522fbLoginReturnURL%2522%253A%2522%252F%2522%257D%26scope%3Demail%26response_type%3Dcode%252Cgranted_scopes%26locale%3Den_US%26ret%3Dlogin%26fbapp_pres%3D0%26logger_id%3D27f3ea92-013c-4289-9c6e-cd1d5bc539e7%26shared_id%3DTODO_SHARED_ID%26tp%3Dunspecified&cancel_url=https%3A%2F%2Fwww.instagram.com%2Faccounts%2Fsignup%2F%3Ferror%3Daccess_denied%26error_code%3D200%26error_description%3DPermissions%2Berror%26error_reason%3Duser_denied%26state%3D%257B%2522fbLoginKey%2522%253A%252211w1izj65x04l1p1cmwc7v7eyu11ivxywumq70ozwj5te2ok57g%2522%252C%2522fbLoginReturnURL%2522%253A%2522%252F%2522%257D%23_%3D_&display=page&locale=en_US&pl_dbl=0';// Form Validation function\nvar isFormValid=function isFormValid(){if(username.length>6&&password.length>6){return username&&password;}};// Function to handle what happens when user hits login\nvar handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _success,parsedSuccess;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://localhost:8000/login',{method:'POST',body:JSON.stringify({username:username,password:password}),headers:{'Content-Type':'application/json'}});case 3:_success=_context.sent;_context.next=6;return _success.json();case 6:parsedSuccess=_context.sent;// console.log(parsedSuccess);\nif(parsedSuccess){setSuccess(true);setUserInfo(parsedSuccess);}// console.log('uhmmmmmmm' + JSON.stringify(userInfo));\n_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:if(success){props.history.push(randomPath);}else{console.log('Wrong credentials');}case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();// Returned component\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Instagram\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"username\",alt:\"text\",value:username,onChange:function onChange(e){return handleUsernameChange(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{id:\"usernameActive\",className:isUsernameActive?'Active':'',htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",value:password,onChange:function onChange(e){return handlePasswordChange(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{id:\"passwordActive\",className:isPasswordActive?'Active':'',htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{id:\"btn\",disabled:!isFormValid(),onClick:handleLogin,children:\"Log In\"}),/*#__PURE__*/_jsx(\"p\",{className:\"has-separator\",children:\"Or\"}),/*#__PURE__*/_jsxs(\"a\",{href:fbLink,className:\"facebook-login\",children:[/*#__PURE__*/_jsx(\"img\",{prop:\"\",className:\"fbImage\",src:logo}),\"Log in with Facebook\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"forgotPassword\",children:\"Forgot Password?\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"phones-image-signIn\",children:/*#__PURE__*/_jsx(\"img\",{prop:\"\",className:\"phones-signIn\",src:phonesLogo,type:\"image\",alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"need-an-account\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Dont have an account?\",/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[' ',/*#__PURE__*/_jsx(\"b\",{children:\"Sign Up\"}),' ']})]})}),/*#__PURE__*/_jsx(\"p\",{id:\"get-the-app-sn\",children:\"Get the app.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"store\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"apple-store\",href:\"https://apps.apple.com/app/instagram/id389801252?vt=lo\",target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{prop:\"\",id:\"apple-image-sn\",src:appleLogo,type:\"img\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"android-store\",href:\"https://play.google.com/store/apps/details?id=com.instagram.android&referrer=utm_source%3Dinstagramweb%26utm_campaign%3DsignupPage%26ig_mid%3D604319C2-32AB-46DC-AC79-E92B13034E75%26utm_content%3Dlo%26utm_medium%3Dbadge\",target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{prop:\"\",id:\"android-image-sn\",src:androidLogo,type:\"img\"})})]})]})});};export default withRouter(SignInPage);","map":{"version":3,"sources":["/Users/edwin/Desktop/React/challenges/ig-login/src/Components/signInPage.js"],"names":["React","useState","useContext","Link","logo","phonesLogo","appleLogo","androidLogo","withRouter","UserContext","SignInPage","props","isUsernameActive","setUsernameActive","isPasswordActive","setPasswordActive","username","setUsername","password","setPassword","success","setSuccess","setUserInfo","randomPath","handleUsernameChange","text","handlePasswordChange","fbLink","isFormValid","length","handleLogin","e","fetch","method","body","JSON","stringify","headers","json","parsedSuccess","console","log","history","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../images/facebook-logo.png';\nimport phonesLogo from '../images/phones-image.png';\nimport appleLogo from '../images/download-apple.png';\nimport androidLogo from '../images/download-google.png';\nimport { withRouter } from 'react-router-dom';\nimport '../style.css';\nimport UserContext from '../userContext';\n\n// Sign in page Component\n\nconst SignInPage = (props) => {\n  const [isUsernameActive, setUsernameActive] = useState(false);\n  const [isPasswordActive, setPasswordActive] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  //Success state\n  const [success, setSuccess] = useState();\n\n  // Contexts passed among components\n  const { setUserInfo } = useContext(UserContext);\n  const { randomPath } = useContext(UserContext);\n\n  const handleUsernameChange = (text) => {\n    setUsername(text);\n\n    if (text !== '') {\n      setUsernameActive(true);\n    } else {\n      setUsernameActive(false);\n    }\n  };\n\n  const handlePasswordChange = (text) => {\n    setPassword(text);\n\n    if (text !== '') {\n      setPasswordActive(true);\n    } else {\n      setPasswordActive(false);\n    }\n  };\n\n  // Facebook link\n  const fbLink =\n    'https://www.facebook.com/login.php?skip_api_login=1&api_key=124024574287414&kid_directed_site=0&app_id=124024574287414&signed_next=1&next=https%3A%2F%2Fwww.facebook.com%2Fdialog%2Foauth%3Fclient_id%3D124024574287414%26redirect_uri%3Dhttps%253A%252F%252Fwww.instagram.com%252Faccounts%252Fsignup%252F%26state%3D%257B%2522fbLoginKey%2522%253A%252211w1izj65x04l1p1cmwc7v7eyu11ivxywumq70ozwj5te2ok57g%2522%252C%2522fbLoginReturnURL%2522%253A%2522%252F%2522%257D%26scope%3Demail%26response_type%3Dcode%252Cgranted_scopes%26locale%3Den_US%26ret%3Dlogin%26fbapp_pres%3D0%26logger_id%3D27f3ea92-013c-4289-9c6e-cd1d5bc539e7%26shared_id%3DTODO_SHARED_ID%26tp%3Dunspecified&cancel_url=https%3A%2F%2Fwww.instagram.com%2Faccounts%2Fsignup%2F%3Ferror%3Daccess_denied%26error_code%3D200%26error_description%3DPermissions%2Berror%26error_reason%3Duser_denied%26state%3D%257B%2522fbLoginKey%2522%253A%252211w1izj65x04l1p1cmwc7v7eyu11ivxywumq70ozwj5te2ok57g%2522%252C%2522fbLoginReturnURL%2522%253A%2522%252F%2522%257D%23_%3D_&display=page&locale=en_US&pl_dbl=0';\n\n  // Form Validation function\n  const isFormValid = () => {\n    if (username.length > 6 && password.length > 6) {\n      return username && password;\n    }\n  };\n\n  // Function to handle what happens when user hits login\n  const handleLogin = async (e) => {\n    // e.preventDefault();\n    try {\n      const success = await fetch('http://localhost:8000/login', {\n        method: 'POST',\n        body: JSON.stringify({\n          username,\n          password,\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      const parsedSuccess = await success.json();\n      // console.log(parsedSuccess);\n      if (parsedSuccess) {\n        setSuccess(true);\n        setUserInfo(parsedSuccess);\n      }\n      // console.log('uhmmmmmmm' + JSON.stringify(userInfo));\n    } catch (e) {\n      console.log(e);\n    }\n\n    if (success) {\n      props.history.push(randomPath);\n    } else {\n      console.log('Wrong credentials');\n    }\n  };\n\n  // Returned component\n  return (\n    <>\n      <div className='login'>\n        <h1>Instagram</h1>\n\n        <div>\n          <input\n            type='username'\n            alt='text'\n            value={username}\n            onChange={(e) => handleUsernameChange(e.target.value)}\n          />\n          <label\n            id='usernameActive'\n            className={isUsernameActive ? 'Active' : ''}\n            htmlFor='username'\n          >\n            Username\n          </label>\n\n          <input\n            id='password'\n            type='password'\n            value={password}\n            onChange={(e) => handlePasswordChange(e.target.value)}\n          />\n          <label\n            id='passwordActive'\n            className={isPasswordActive ? 'Active' : ''}\n            htmlFor='password'\n          >\n            Password\n          </label>\n\n          <button id='btn' disabled={!isFormValid()} onClick={handleLogin}>\n            Log In\n          </button>\n\n          <p className='has-separator'>Or</p>\n          <a href={fbLink} className='facebook-login'>\n            <img prop='' className='fbImage' src={logo}></img>Log in with\n            Facebook\n          </a>\n          <p className='forgotPassword'>Forgot Password?</p>\n        </div>\n\n        <div className='phones-image-signIn'>\n          <img\n            prop=''\n            className='phones-signIn'\n            src={phonesLogo}\n            type='image'\n            alt=''\n          ></img>\n        </div>\n\n        <div className='need-an-account'>\n          <p>\n            Dont have an account?\n            <Link to='/'>\n              {' '}\n              <b>Sign Up</b>{' '}\n            </Link>\n          </p>\n        </div>\n\n        <p id='get-the-app-sn'>Get the app.</p>\n\n        <div className='store'>\n          <a\n            className='apple-store'\n            href='https://apps.apple.com/app/instagram/id389801252?vt=lo'\n            target='_blank'\n            rel='noreferrer'\n          >\n            <img prop='' id='apple-image-sn' src={appleLogo} type='img'></img>\n          </a>\n          <a\n            className='android-store'\n            href='https://play.google.com/store/apps/details?id=com.instagram.android&referrer=utm_source%3Dinstagramweb%26utm_campaign%3DsignupPage%26ig_mid%3D604319C2-32AB-46DC-AC79-E92B13034E75%26utm_content%3Dlo%26utm_medium%3Dbadge'\n            target='_blank'\n            rel='noreferrer'\n          >\n            <img\n              prop=''\n              id='android-image-sn'\n              src={androidLogo}\n              type='img'\n            ></img>\n          </a>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default withRouter(SignInPage);\n"]},"metadata":{},"sourceType":"module"}